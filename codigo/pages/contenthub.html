<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:400&display=swap">

    <title>Content Hub</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link rel="stylesheet" href="../assets/css/stylecontenthub.css">
    <link rel="stylesheet" href="../../assets/css/sidenav.css">

</head>

<body class="d-flex">

    <aside>

        <div id="sidebar" class="sidebar d-flex flex-column flex-shrink-0 h-100 " onmouseover="toggleSidebar()"
            onmouseout="toggleSidebar()">
            <ul class="nav nav-pills nav-flush flex-column mb-auto text-center ">
                <li id="inicio" class="selected">
                    <a href="#" class="nav-link py-3 rounded-0" aria-current="page" data-bs-toggle="tooltip"
                        data-bs-placement="right"><i class="material-icons fa-solid fa-home fa-xl mx-2"></i><span
                            class="txt">Inicio</span></a>
                </li>
                <li id="content-hub">
                    <a href="#" class="nav-link " aria-current="page" data-bs-toggle="tooltip"
                        data-bs-placement="right"><i class="material-icons fa-solid fa-book-open fa-xl mx-2"></i><span
                            class="txt">Content
                            Hub</span></a>
                </li>
                <li id="trader-space">
                    <a href="#" class="nav-link py-3 rounded-0" aria-current="page" data-bs-toggle="tooltip"
                        data-bs-placement="right"><i class="material-icons fa-solid fa-chart-line fa-xl mx-2"></i><span
                            class="txt">Trader
                            Space</span></a>
                </li>
                <li id="newsletter">
                    <a href="#" class="nav-link py-3 rounded-0" aria-current="page" data-bs-toggle="tooltip"
                        data-bs-placement="right"><i class="material-icons fa-regular fa-newspaper fa-xl mx-2"></i><span
                            class="txt">Newsletter</span></a>
                </li>
                <li id="journeys">
                    <a href="#" class="nav-link py-3  rounded-0" aria-current="page" data-bs-toggle="tooltip"
                        data-bs-placement="right"><i class="material-icons fa-regular fa-compass fa-xl mx-2"></i><span
                            class="txt">Journeys</span></a>
                </li>
            </ul>
            <div class="dropdown"><a href="#"
                    class="d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none dropdown-toggle"
                    data-bs-toggle="dropdown" aria-expanded="false"><img src="../../assets/images/avatar.png"
                        alt="Foto do user" style="width: 50px; height: 50px;"></a>
                <ul class="dropdown-menu text-small">
                    <li><a href="#" class="dropdown-item text-dark">Perfil</a></li>
                    <li><a href="#" class="dropdown-item text-dark">Configuracoes</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a href="#" class="dropdown-item text-dark">Sair</a></li>
                </ul>
            </div>
        </div>

    </aside>

    <main class="flex-grow-1">

        <div class="container-fluid px-5 pt-5">
            <h1 class="text-secondary">Content Hub</h1>
            <div class="container-fluid">
                <div class="row flex-row-reverse px-2">
                    <div class="col-lg-4 col-md-6 col-sm-12 pt-4">
                        <div
                            class="d-flex align-items-center justify-content-around rounded shadow py-3 px-5 div-search">
                            <i class="fas fa-search text-secondary opacity-25"></i>
                            <input type="text" class="input-search bg-light" placeholder="O que estÃ¡ procurando ?">
                        </div>
                        <div class="pt-4">
                            <div id="card-videos" class="rounded shadow py-3 px-5"></div>
                        </div>
                    </div>
                    <div class="col-lg-8 col-md-6 col-sm-12 pt-4">
                        <div class="card">
                            <iframe id="iframe-videos" class="w-100 rounded" height="500" title="YouTube video player"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                allowfullscreen></iframe>
                        </div>
                        <div id="comments" class="d-flex flex-column mt-4"></div>
                        <div class="py-4">
                            <div id="comment-on-the-video" class="rounded shadow p-3">
                                <div class="d-flex flex-column gap-3">
                                    <div class="thumbnail-profile">
                                        <img src="./assets/img/avatar.png">
                                    </div>
                                    <div class="w-100">
                                        <textarea rows="4" placeholder="Add comment..."
                                            class="rounded border-light shadow border border-2 form-control w-100"
                                            name="text-area-comment" id="text-area-comment"></textarea>
                                    </div>
                                    <div>
                                        <button id-video="0" id="send-comment"
                                            class="rounded py-3 px-5 border-0 w-100 bg-purple-dark text-white">
                                            SEND
                                            <i class="fas fa-paper-plane"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="../../assets/js/sidebar-loader.js"></script>
    <script src="https://kit.fontawesome.com/113fc1b747.js" crossorigin="anonymous"></script>
    <script type="module" src="../assets/js/maincontenthub.js">
        let divEstrutura = document.querySelector("#estrutura")

        fetch("dados.json").then((response) => {
            response.json().then((dados) => {
                dados.videos.map((video) => {
                    divEstrutura.innerHTML += `<li> ${videos.url} - ${videos.titulo} </li>`
                })
            })
        })</script>
    <script>
        const menu = [
            {
                name: "Inicio",
                id: "inicio",
                icon: "fa-solid fa-home"
            },
            {
                name: "Content Hub",
                id: "content-hub",
                icon: "fa-solid fa-book-open"
            },
            {
                name: "Trader Space",
                id: "trader-space",
                icon: "fa-solid fa-chart-line"
            },
            {
                name: "Newsletter",
                id: "newsletter",
                icon: "fa-regular fa-newspaper"
            },
            {
                name: "Journeys",
                id: "journeys",
                icon: "fa-regular fa-compass"
            }
        ]


        const createChildMenu = (items) => {
            const sidebar = document.getElementById('sidebar');
            const menu = document.createElement("ul");
            menu.className = 'nav nav-pills nav-flush flex-column mb-auto text-center';

            items.forEach(item => {
                let li = createMenuItem(item);
                menu.appendChild(li);
            });

            console.log(menu)
            sidebar.appendChild(menu);
        };



        const createMenuItem = (item) => {
            let li = document.createElement("li");
            li.id = item.id;
            if (item.name === 'Inicio') {
                li.classList.add('selected');
            }
            li.innerHTML = `
        <a href="#" class="nav-link py-3 rounded-0" aria-current="page" data-bs-toggle="tooltip"
            data-bs-placement="right">
            <i class="material-icons ${item.icon} fa-xl mx-2"></i>
            <span class="txt">${item.name}</span>
        </a>
    `;
            console.log(li);
            return li;
        }


        const buildMenu = () => {
            const sidebar = document.getElementById("sidebar");
            const mainMenu = document.createElement("div");
            mainMenu.id = 'sidebar';
            mainMenu.className = 'sidebar d-flex flex-column flex-shrink-0 h-100 ';

            menu.forEach(e => {
                mainMenu.appendChild(createMenuItem(e));

                if (e.child) {
                    createChildMenu(e.child);
                }
            });

            console.log(mainMenu);
            sidebar.appendChild(mainMenu);
        }

    </script>

</body>

</html>